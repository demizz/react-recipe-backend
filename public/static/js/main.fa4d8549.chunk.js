(this["webpackJsonpreact-recipes-frontend"]=this["webpackJsonpreact-recipes-frontend"]||[]).push([[0],{55:function(e,t,a){e.exports=a(96)},60:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(36),l=a.n(c),i=(a(60),a(6)),o=a(12),s=a(11),u=Object(s.h)((function(e){return r.a.createElement(o.a,null,(function(t){return console.log(t),r.a.createElement("button",{onClick:function(){return function(t){localStorage.clear(),t.resetStore(),e.history.push("/")}(t)}},"Logout")}))})),m=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/signup"},"Signup")))},d=function(e){e.session;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/recipe/add"},"Add Recipe")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(u,null))))},p=function(e){var t=e.session,a=localStorage.getItem("token");return r.a.createElement("nav",null,!a&&r.a.createElement(m,null),a&&r.a.createElement(d,{session:t}))},g=a(98),f=a(24),b=a(18);function E(){var e=Object(f.a)(["\n  mutation($username: String!, $password: String!) {\n    loginUser(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return E=function(){return e},e}function v(){var e=Object(f.a)(["\n  mutation($_id: ID!) {\n    deleteUserRecipe(_id: $_id) {\n      _id\n    }\n  }\n"]);return v=function(){return e},e}function h(){var e=Object(f.a)(["\n  mutation($_id: ID!, $username: String!) {\n    unlikeRecipe(_id: $_id, username: $username) {\n      _id\n      likes\n    }\n  }\n"]);return h=function(){return e},e}function y(){var e=Object(f.a)(["\n  mutation($_id: ID!, $username: String!) {\n    likeRecipe(_id: $_id, username: $username) {\n      _id\n      likes\n    }\n  }\n"]);return y=function(){return e},e}function j(){var e=Object(f.a)(["\n  query($username: String!) {\n    getUserRecipes(username: $username) {\n      _id\n      name\n      likes\n      imageUrl\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(f.a)(["\n  query {\n    getCurrentUser {\n      username\n      joinDate\n      email\n      favorites {\n        _id\n        name\n      }\n    }\n  }\n"]);return O=function(){return e},e}function N(){var e=Object(f.a)(["\n  mutation(\n    $name: String!\n    $imageUrl: String!\n    $description: String!\n    $category: String!\n    $instructions: String!\n    $username: String\n  ) {\n    addRecipe(\n      name: $name\n      imageUrl: $imageUrl\n      description: $description\n      category: $category\n      instructions: $instructions\n      username: $username\n    ) {\n      _id\n      name\n      category\n      imageUrl\n      description\n      instructions\n      createdDate\n      likes\n    }\n  }\n"]);return N=function(){return e},e}function k(){var e=Object(f.a)(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signupUser(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n"]);return k=function(){return e},e}function w(){var e=Object(f.a)(["\n  mutation(\n    $_id: ID!\n    $name: String!\n    $category: String!\n    $description: String!\n    $imageUrl: String!\n  ) {\n    editRecipe(\n      _id: $_id\n      name: $name\n      description: $description\n      category: $category\n      imageUrl: $imageUrl\n    ) {\n      _id\n      name\n      category\n      description\n      imageUrl\n    }\n  }\n"]);return w=function(){return e},e}function S(){var e=Object(f.a)(["\n  query($_id: ID!) {\n    getRecipe(_id: $_id) {\n      _id\n      name\n      imageUrl\n      category\n      description\n      instructions\n      createdDate\n      likes\n      createdBy\n    }\n  }\n"]);return S=function(){return e},e}function _(){var e=Object(f.a)(["\n  query($searchTerm: String) {\n    searchRecipes(searchTerm: $searchTerm) {\n      _id\n      name\n      likes\n      category\n    }\n  }\n"]);return _=function(){return e},e}function $(){var e=Object(f.a)(["\n  query {\n    getAllRecipes {\n      _id\n      name\n      imageUrl\n\n      category\n    }\n  }\n"]);return $=function(){return e},e}var R=Object(b.b)($()),q=Object(b.b)(_()),U=Object(b.b)(S()),x=Object(b.b)(w()),C=Object(b.b)(k()),D=Object(b.b)(N()),I=Object(b.b)(O()),L=Object(b.b)(j()),T=Object(b.b)(y()),A=Object(b.b)(h()),B=Object(b.b)(v()),Q=Object(b.b)(E()),F=a(50),z=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement(F.PulseLoader,{color:"#1eaedb",size:30,margin:"3px"}))},H=a(8),J=a(20),P=a.n(J),Y=a(28),M=a(19),G=a(52),K=a(0),V=function(e){var t=e.error;return r.a.createElement("p",null,t)},W=function(e){var t=Object(n.useState)(!1),a=Object(M.a)(t,2),c=a[0],l=a[1],i=function(t,a){var n=a.data.likeRecipe,r=e.id;console.log({id:r});var c=t.readQuery({query:U,variables:{_id:r}}).getRecipe;t.writeQuery({query:U,variables:{_id:r},data:{getRecipe:Object(H.a)(Object(H.a)({},c),{},{likes:n.likes+1})}})},o=function(t,a){var n=a.data.unlikeRecipe,r=e.id,c=t.readQuery({query:U,variables:{_id:r}}).getRecipe;t.writeQuery({query:U,variables:{_id:r},data:{getRecipe:Object(H.a)(Object(H.a)({},c),{},{likes:n.likes-1})}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{query:I},(function(t){var a=t.data,n=(t.loading,t.error);t.refetch;if(n)return r.a.createElement(V,{error:n.message});var s=a.getCurrentUser.username;return r.a.createElement(g.a,{mutation:A,update:o,variables:{_id:e.id,username:s}},(function(t){return r.a.createElement(g.a,{mutation:T,variables:{_id:e.id,username:s},update:i},(function(e){return s&&r.a.createElement(K.b.Provider,{value:c?{color:"red",className:"global-class-name",size:"2.5rem"}:{color:"black",className:"global-class-name",size:"1.5rem"}},r.a.createElement("div",{onClick:function(){return function(e,t,a){c?t().then(function(){var e=Object(Y.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data,l((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):e().then(function(){var e=Object(Y.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data,l((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(e,t)},style:{cursor:"pointer"},className:"float-right"},r.a.createElement(G.a,null)))}))}))})))},X=Object(s.h)((function(e){var t=e.match;console.log(t.params);var a=t.params.id;return console.log(a),r.a.createElement(g.b,{query:U,variables:{_id:a}},(function(e){var t=e.loading,a=e.error,n=e.data;return t?r.a.createElement(z,null):a?r.a.createElement(V,{error:a.message}):r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"recipe-image",style:{background:"url(".concat(n.getRecipe.imageUrl,")center center /cover no-repeat ")}}),r.a.createElement("div",{className:"recipe"},r.a.createElement("div",{className:"recipe-header"},r.a.createElement("h2",{className:"recipe-name"},r.a.createElement("strong",null,n.getRecipe.name)),r.a.createElement("h5",null,r.a.createElement("strong",null,n.getRecipe.category)),r.a.createElement("p",null,"Created by ",r.a.createElement("strong",null,n.getRecipe.createdBy)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2 offset-md-4"},r.a.createElement("p",null,n.getRecipe.likes," ",r.a.createElement("span",{role:"img","aria-label":"heart"}," ","\u2764\ufe0f")," ")),r.a.createElement("div",{className:"col-md-2 "},r.a.createElement(W,{id:n.getRecipe._id})))),r.a.createElement("blockquote",{className:"recipe-description"},n.getRecipe.description),r.a.createElement("h3",{className:"recipe instructions__title"},"Instructions"),r.a.createElement("div",{className:"recipe-instructions",dangerouslySetInnerHTML:{__html:n.getRecipe.instructions}})))}))})),Z=function(e){var t=e.recipe;return r.a.createElement("div",{className:"row border border-black rounded mt-2 mb-2",style:{display:"flex",alignItems:"center",alignContent:"center"}},r.a.createElement("div",{className:"col-md-4 text-danger",style:{display:"flex",alignItems:"center"}},r.a.createElement(i.b,{to:"/recipes/".concat(t._id)},r.a.createElement("h4",null,t.name))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("p",null," ",t.likes," \xa0 likes \xa0")),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{className:"btn btn-warning"}," ",t.category," ")))},ee=function(){var e=Object(n.useState)([]),t=Object(M.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(""),l=Object(M.a)(c,2),i=l[0],s=l[1],u=function(e){var t=e.searchRecipes;a({searchRecipes:t}),console.log({searchRecipes:t})};return r.a.createElement(o.a,null,(function(e){return r.a.createElement(g.b,{query:q,variables:{searchTerm:i}},(function(t){var a=t.data,n=t.loading,c=t.error;return console.log(a),c?r.a.createElement("div",null,c.message):r.a.createElement("div",{className:"container text-center mt-5"},r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{className:"pt-1 pb-1",type:"search",name:"search",id:"",autoFocus:!0,value:i,onChange:function(){var t=Object(Y.a)(P.a.mark((function t(a){var n,r;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.target.value),a.persist(),s(a.target.value),t.next=5,e.query({query:q,variables:{searchTerm:a.target.value}});case 5:n=t.sent,r=n.data,u(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})))),!n&&r.a.createElement("ul",null,a.searchRecipes.map((function(e){return r.a.createElement(Z,{key:e._id,recipe:e})}))))}))}))},te=function(e){e.session;return r.a.createElement(g.b,{query:I},(function(e){var t=e.data.getCurrentUser,a=e.error,n=e.loading;console.log(t),console.log({error:a});var c=t;return n?r.a.createElement("div",null,"Loading..."):a?r.a.createElement(V,{error:a.message}):r.a.createElement("div",null,r.a.createElement("h3",null,"User Info"),r.a.createElement("p",null,"Username: ",c.username),r.a.createElement("p",null,"Email :",c.email),r.a.createElement("p",null,"Join Date :",function(e){var t=new Date(e).toLocaleDateString("en-us"),a=new Date(e).toLocaleTimeString("en-us");return"".concat(t,"at ").concat(a)}(c.joinDate)),r.a.createElement("ul",null,r.a.createElement("h3",null,c.username,"'s Favorites"),c.favorites&&c.favorites.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(i.b,{to:"/recipes/".concat(e._id)},r.a.createElement("p",null,e.name)))})),!c.favorites&&r.a.createElement("p",{className:"bg-info"},"you have no favorites currenty go add one")))}))},ae=function(){var e=function(e){window.confirm("Are you sure your want to delete this recipe")&&e().then((function(e){var t=e.data;console.log(t)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(g.b,{query:I},(function(t){var a=t.loading,n=t.data;t.error;if(a)return r.a.createElement(z,null);console.log(n);var c=n.getCurrentUser.username;return r.a.createElement(g.b,{query:L,variables:{username:c}},(function(t){var a=t.data,n=t.loading,l=t.error;return n?r.a.createElement(z,null):l?r.a.createElement("div",null,l.message):(console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Recipes"),!a.getUserRecipes.length&&r.a.createElement("p",null,"you have not added any recipes"),a.getUserRecipes.map((function(t){return r.a.createElement("div",{className:"row mt-2 pt-2 pb-2 border border-primary rounded "},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h5",{className:"card-title"},t.name)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(g.a,{mutation:B,variables:{_id:t._id},refetchQueries:function(){return[{query:R},{query:I}]},update:function(e,t){var a=t.data.deleteUserRecipe,n=e.readQuery({query:L,variables:{username:c}}).getUserRecipes;e.writeQuery({query:L,variables:{username:c},data:{getUserRecipes:n.filter((function(e){return e._id!==a._id}))}})}},(function(t){return r.a.createElement("button",{className:"btn btn-danger float-left",onClick:function(){return e(t)}},"delete")}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("button",{className:"btn btn-warning"},r.a.createElement(i.b,{to:"/edit/".concat(t._id)},"Update"))))}))))}))}))))},ne=function(e){return function(t){return localStorage.getItem("token")?r.a.createElement(e,t):r.a.createElement(s.a,{to:"/"})}},re=ne((function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 border border-primary rounded"},r.a.createElement(te,null)),r.a.createElement("div",{className:"col-md-7 offset-md-1"},r.a.createElement(ae,null))))})),ce=a(54),le=a(26),ie=a(53),oe=a.n(ie),se=Object(s.h)((function(e){var t=Object(n.useState)({name:"",description:"",instructions:"",category:"Breakfast",username:"",imageUrl:""}),a=Object(M.a)(t,2),c=a[0],l=a[1],i=c.name,o=c.imageUrl,s=c.description,u=c.instructions,m=c.category,d=c.username,p=function(e){return function(t){l(Object(H.a)(Object(H.a)({},c),{},Object(le.a)({},e,t.target.value)))}},f=function(e){var t=e.editor.getData();l(Object(H.a)(Object(H.a)({},c),{},{instructions:t}))},b=function(t){return function(a){a.preventDefault(),t().then((function(t){var a=t.data;console.log(a),l(Object(H.a)(Object(H.a)({},c),{},{name:"",description:"",instructions:"",category:"Breakfast",username:""})),e.history.push("/")}))}};return r.a.createElement(g.a,{mutation:D,refetchQueries:function(){return[{query:R}]},update:function(e,t){var a=t.data.addRecipe,n=e.readQuery({query:R}).getAllRecipes;e.writeQuery({query:R,data:{getAllRecipes:[a].concat(Object(ce.a)(n))}})},variables:{name:i,imageUrl:o,category:m,description:s,instructions:u,username:d}},(function(e,t){t.data;var a=t.loading,n=t.error;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"text-center text-primary pb-4 pt-4"},r.a.createElement("h2",null,"Add Recipe")),r.a.createElement("form",{className:"form-group",onSubmit:b(e)},r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"name",placeholder:"Recipe Name",value:i,onChange:p("name"),id:""}),r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"image",placeholder:"Recipe Image",value:o,onChange:p("imageUrl"),id:""}),r.a.createElement("select",{name:"category",required:!0,className:"form-control mb-4",value:m,onChange:p("category")},r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Lunch"},"Lunch"),r.a.createElement("option",{value:"Dinner"},"Dinner"),r.a.createElement("option",{value:"Snack"},"Snack")),r.a.createElement("input",{type:"text",name:"description",required:!0,className:"form-control mb-4",onChange:p("description"),value:s,placeholder:"Add description",id:""}),r.a.createElement("label",{htmlFor:"instructions"},"Instructions",r.a.createElement(oe.a,{name:"instructions",content:u,events:{change:f}})),r.a.createElement("button",{disabled:a||!i||!o||!s||!u||!m,type:"submit",className:"btn  btn-primary btn-lg btn-block"},"Submit"),n&&r.a.createElement(V,{error:n.message}))))}))})),ue=function(e){var t=e._id,a=e.imageUrl,n=e.name,c=e.category;return r.a.createElement("li",{className:"card",style:{background:"url(".concat(a,") center center /cover no-repeat")}},r.a.createElement("span",{className:c},c),r.a.createElement("div",{className:"card-text"},r.a.createElement(i.b,{to:"/recipes/".concat(t)},r.a.createElement("h4",null,n))))};a(95);var me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"main-title"},"Find Recipes you ",r.a.createElement("strong",null,"Love")),r.a.createElement(g.b,{query:R},(function(e){var t=e.loading,a=e.data,n=e.error;return t?r.a.createElement(z,null):n?r.a.createElement("div",null,"Error",n):(console.log(a),r.a.createElement("ul",{className:"cards"},a.getAllRecipes.map((function(e){return r.a.createElement(ue,Object.assign({key:e._id},e))}))))})))},de=Object(s.h)((function(e){console.log({props:e});var t=Object(n.useState)({username:"",password:""}),a=Object(M.a)(t,2),c=a[0],l=a[1],i=c.username,o=c.password,s=function(e){return function(t){l(Object(H.a)(Object(H.a)({},c),{},Object(le.a)({},e,t.target.value)))}},u=function(t){return function(a){a.preventDefault(),t().then(function(){var t=Object(Y.a)(P.a.mark((function t(a){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.data,localStorage.setItem("token",n.loginUser.token),t.next=4,e.refetch();case 4:l(Object(H.a)(Object(H.a)({},c),{},{username:"",password:""})),e.history.push("/");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center text-primary pb-4 pt-4"},r.a.createElement("h2",null,"Login")),r.a.createElement(g.a,{mutation:Q,variables:{username:i,password:o}},(function(e,t){t.data;var a=t.error,n=t.loading;return r.a.createElement("form",{action:"",className:"form-group",onSubmit:u(e)},r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"Type your Username",value:i,onChange:s("username"),placeholder:"Username",id:""}),r.a.createElement("input",{type:"password",required:!0,className:"form-control mb-4",name:"password",placeholder:"Type your password",id:"",value:o,onChange:s("password")}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",disabled:n||!i||!o}," ","Submit"),a&&r.a.createElement(V,{error:a.message}))})))})),pe=Object(s.h)((function(e){var t=Object(n.useState)({username:"",email:"",password:"",passwordConfirm:""}),a=Object(M.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(M.a)(i,2),s=o[0],u=o[1],m=c.username,d=c.email,p=c.password,f=c.passwordConfirm,b=function(e){return function(t){l(Object(H.a)(Object(H.a)({},c),{},Object(le.a)({},e,t.target.value)))}},E=function(t){return function(a){a.preventDefault(),console.log(e),t().then(function(){var t=Object(Y.a)(P.a.mark((function t(a){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.data,localStorage.setItem("token",n.signupUser.token),u(!0),l(Object(H.a)(Object(H.a)({},c),{},{username:"",password:"",passwordConfirm:"",email:""})),setTimeout((function(){u(!1),e.history.push("/login")}),3e3);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-center text-primary pb-4 pt-4"},r.a.createElement("h2",null,"Signup")),s&&r.a.createElement("div",{className:"alert alert-success"},"You are successfully registred try to login please"),r.a.createElement(g.a,{mutation:C,variables:{username:m,email:d,password:p}},(function(e,t){t.data;var a=t.error,n=t.loading;return!s&&r.a.createElement("form",{action:"",className:"form-group",onSubmit:E(e)},r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"Type your Username",value:m,onChange:b("username"),placeholder:"Username",id:""}),r.a.createElement("input",{type:"email",required:!0,className:"form-control mb-4",placeholder:"Type your Email",name:"email",id:"",value:d,onChange:b("email")}),r.a.createElement("input",{type:"password",required:!0,className:"form-control mb-4",name:"password",placeholder:"Type your password",id:"",value:p,onChange:b("password")}),r.a.createElement("input",{type:"password",required:!0,className:"form-control mb-4",name:"passwordConfirm ",placeholder:"Confirm your password",id:"",value:f,onChange:b("passwordConfirm")}),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",disabled:n||!m||!d||!p||p!==f}," Submit"),a&&r.a.createElement(V,{error:a.message}))})))})),ge=function(e){return function(t){return r.a.createElement(g.b,{query:I},(function(a){var n=a.data,c=a.error,l=a.loading,i=a.refetch;return console.log(c),l?null:n&&r.a.createElement(e,Object.assign({},t,{refetch:i,session:n}))}))}},fe=function(e){var t=e.data,a=e.id,c=Object(s.g)();console.log(t),console.log(a);var l=Object(n.useState)({_id:a,name:t.name,description:t.description,category:t.category,imageUrl:t.imageUrl}),i=Object(M.a)(l,2),o=i[0],u=i[1],m=o._id,d=o.name,p=o.imageUrl,f=o.description,b=o.category,E=function(e){return function(t){u(Object(H.a)(Object(H.a)({},o),{},Object(le.a)({},e,t.target.value)))}},v=function(e){return function(t){t.preventDefault(),e().then((function(e){console.log(e),c.push("/")}))}};return r.a.createElement(g.a,{mutation:x,variables:{name:d,category:b,description:f,imageUrl:p,_id:m}},(function(e){return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("h4",null,"Edit Recipe"),r.a.createElement("form",{className:"form-group",onSubmit:v(e)},r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"name",placeholder:"Recipe Name",value:d,onChange:E("name"),id:""}),r.a.createElement("input",{type:"text",required:!0,className:"form-control mb-4",name:"image",placeholder:"Recipe Image",value:p,onChange:E("imageUrl"),id:""}),r.a.createElement("select",{name:"category",required:!0,className:"form-control mb-4",value:b,onChange:E("category")},r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Lunch"},"Lunch"),r.a.createElement("option",{value:"Dinner"},"Dinner"),r.a.createElement("option",{value:"Snack"},"Snack")),r.a.createElement("input",{type:"text",name:"description",required:!0,className:"form-control mb-4",onChange:E("description"),value:f,placeholder:"Add description",id:""}),r.a.createElement("hr",null),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{type:"submit",className:"button-primary"},"Update")))))}))},be=Object(s.h)((function(e){var t=e.match.params.id;return r.a.createElement(g.b,{query:U,variables:{_id:t}},(function(e){var a=e.loading,n=e.error,c=e.data;return a?r.a.createElement(z,null):n?r.a.createElement(V,{error:n.message}):r.a.createElement(fe,{data:c.getRecipe,id:t})}))})),Ee=new b.a({uri:"https://react-graphql-recipes-app.herokuapp.com/graphql",fetchOptions:{credentials:"include"},request:function(e){var t=localStorage.getItem("token");e.setContext({headers:{authorization:"Bearer "+t}})},onError:function(e){var t=e.networkError;t&&(console.log("network Error",t),401===t.statusCode&&localStorage.removeItem("token"))}}),ve=ge((function(e){var t=e.refetch,a=e.session;return r.a.createElement(i.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{session:a}),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/profile",exact:!0,component:re}),r.a.createElement(s.b,{path:"/",exact:!0,component:me}),r.a.createElement(s.b,{path:"/recipe/add",exact:!0,component:ne(se)}),r.a.createElement(s.b,{path:"/search",exact:!0,component:ee}),r.a.createElement(s.b,{path:"/recipes/:id",exact:!0,component:ne(X)}),r.a.createElement(s.b,{path:"/edit/:id",exact:!0,component:be}),r.a.createElement(s.b,{path:"/login",render:function(){return r.a.createElement(de,{refetch:t})}}),r.a.createElement(s.b,{path:"/signup",component:pe}),r.a.createElement(s.a,{to:"/"}))))}));l.a.render(r.a.createElement(o.b,{client:Ee},r.a.createElement(ve,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.fa4d8549.chunk.js.map